(function(){function f(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}}function k(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):{next:f(c)}}
function l(c,b,d){for(var g=[],a=0,e=b;e<b+d;e++)g[a]="0x"+c.getUint8(e).toString(16),a++;c="";var h=g.length;for(b=0;b<h;)switch(d=g[b++],d>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(d);break;case 12:case 13:a=g[b++];c+=String.fromCharCode((d&31)<<6|a&63);break;case 14:a=g[b++],e=g[b++],c+=String.fromCharCode((d&15)<<12|(a&63)<<6|(e&63)<<0)}return c}
function n(c,b,d,g,a){var e=c.getUint16(d,!a),h={},m;for(m=0;m<e;m++){var t=d+12*m+2;var r=g[c.getUint16(t,!a)];h[r]=p(c,t,b,a)}return h}
function p(c,b,d,g){var a=c.getUint16(b+2,!g),e=c.getUint32(b+4,!g);d=c.getUint32(b+8,!g)+d;switch(a){case 1:case 7:if(1==e)return c.getUint8(b+8);d=4<e?d:b+8;b=[];for(a=0;a<e;a++)b[a]=c.getUint8(d+a);return b;case 2:return l(c,4<e?d:b+8,e-1);case 3:if(1==e)return c.getUint16(b+8,!g);d=2<e?d:b+8;b=[];for(a=0;a<e;a++)b[a]=c.getUint16(d+2*a,!g);return b;case 4:if(1==e)return c.getUint32(b+8,!g);b=[];for(a=0;a<e;a++)b[a]=c.getUint32(d+4*a,!g);return b;case 5:if(1==e){var h=c.getUint32(d,!g);var m=c.getUint32(d+
4,!g);c=new Number(h/m);c.g=h;c.f=m;return c}b=[];for(a=0;a<e;a++)h=c.getUint32(d+8*a,!g),m=c.getUint32(d+4+8*a,!g),b[a]=new Number(h/m),b[a].g=h,b[a].f=m;return b;case 9:if(1==e)return c.getInt32(b+8,!g);b=[];for(a=0;a<e;a++)b[a]=c.getInt32(d+4*a,!g);return b;case 10:if(1==e)return c.getInt32(d,!g)/c.getInt32(d+4,!g);b=[];for(a=0;a<e;a++)b[a]=c.getInt32(d+8*a,!g)/c.getInt32(d+4+8*a,!g);return b}};var q={},v=(q[120]="Caption-Abstract",q[110]="Credit",q[25]="Keywords",q[55]="DateCreated",q[80]="By-line",q[85]="By-lineTitle",q[122]="Writer-Editor",q[105]="Headline",q[116]="CopyrightNotice",q[15]="Category",q);var w={},x=(w[256]="ImageWidth",w[257]="ImageHeight",w[258]="BitsPerSample",w[259]="Compression",w[262]="PhotometricInterpretation",w[273]="StripOffsets",w[274]="Orientation",w[277]="SamplesPerPixel",w[278]="RowsPerStrip",w[279]="StripByteCounts",w[282]="XResolution",w[283]="YResolution",w[284]="PlanarConfiguration",w[296]="ResolutionUnit",w[513]="JpegIFOffset",w[514]="JpegIFByteCount",w[529]="YCbCrCoefficients",w[530]="YCbCrSubSampling",w[531]="YCbCrPositioning",w[532]="ReferenceBlackWhite",w);var y={},z=(y[256]="ImageWidth",y[257]="ImageHeight",y[34665]="ExifIFDPointer",y[34853]="GPSInfoIFDPointer",y[40965]="InteroperabilityIFDPointer",y[258]="BitsPerSample",y[259]="Compression",y[262]="PhotometricInterpretation",y[274]="Orientation",y[277]="SamplesPerPixel",y[284]="PlanarConfiguration",y[530]="YCbCrSubSampling",y[531]="YCbCrPositioning",y[282]="XResolution",y[283]="YResolution",y[296]="ResolutionUnit",y[273]="StripOffsets",y[278]="RowsPerStrip",y[279]="StripByteCounts",y[513]="JPEGInterchangeFormat",
y[514]="JPEGInterchangeFormatLength",y[301]="TransferFunction",y[318]="WhitePoint",y[319]="PrimaryChromaticities",y[529]="YCbCrCoefficients",y[532]="ReferenceBlackWhite",y[306]="DateTime",y[270]="ImageDescription",y[271]="Make",y[272]="Model",y[305]="Software",y[315]="Artist",y[33432]="Copyright",y);var B={},C=(B[36864]="ExifVersion",B[40960]="FlashpixVersion",B[40961]="ColorSpace",B[40962]="PixelXDimension",B[40963]="PixelYDimension",B[37121]="ComponentsConfiguration",B[37122]="CompressedBitsPerPixel",B[37500]="MakerNote",B[37510]="UserComment",B[40964]="RelatedSoundFile",B[36867]="DateTimeOriginal",B[36868]="DateTimeDigitized",B[37520]="SubsecTime",B[37521]="SubsecTimeOriginal",B[37522]="SubsecTimeDigitized",B[33434]="ExposureTime",B[33437]="FNumber",B[34850]="ExposureProgram",B[34852]="SpectralSensitivity",
B[34855]="ISOSpeedRatings",B[34856]="OECF",B[37377]="ShutterSpeedValue",B[37378]="ApertureValue",B[37379]="BrightnessValue",B[37380]="ExposureBias",B[37381]="MaxApertureValue",B[37382]="SubjectDistance",B[37383]="MeteringMode",B[37384]="LightSource",B[37385]="Flash",B[37396]="SubjectArea",B[37386]="FocalLength",B[41483]="FlashEnergy",B[41484]="SpatialFrequencyResponse",B[41486]="FocalPlaneXResolution",B[41487]="FocalPlaneYResolution",B[41488]="FocalPlaneResolutionUnit",B[41492]="SubjectLocation",
B[41493]="ExposureIndex",B[41495]="SensingMethod",B[41728]="FileSource",B[41729]="SceneType",B[41730]="CFAPattern",B[41985]="CustomRendered",B[41986]="ExposureMode",B[41987]="WhiteBalance",B[41988]="DigitalZoomRation",B[41989]="FocalLengthIn35mmFilm",B[41990]="SceneCaptureType",B[41991]="GainControl",B[41992]="Contrast",B[41993]="Saturation",B[41994]="Sharpness",B[41995]="DeviceSettingDescription",B[41996]="SubjectDistanceRange",B[40965]="InteroperabilityIFDPointer",B[42016]="ImageUniqueID",B);var D={},E=(D[0]="GPSVersionID",D[1]="GPSLatitudeRef",D[2]="GPSLatitude",D[3]="GPSLongitudeRef",D[4]="GPSLongitude",D[5]="GPSAltitudeRef",D[6]="GPSAltitude",D[7]="GPSTimeStamp",D[8]="GPSSatellites",D[9]="GPSStatus",D[10]="GPSMeasureMode",D[11]="GPSDOP",D[12]="GPSSpeedRef",D[13]="GPSSpeed",D[14]="GPSTrackRef",D[15]="GPSTrack",D[16]="GPSImgDirectionRef",D[17]="GPSImgDirection",D[18]="GPSMapDatum",D[19]="GPSDestLatitudeRef",D[20]="GPSDestLatitude",D[21]="GPSDestLongitudeRef",D[22]="GPSDestLongitude",
D[23]="GPSDestBearingRef",D[24]="GPSDestBearing",D[25]="GPSDestDistanceRef",D[26]="GPSDestDistance",D[27]="GPSProcessingMethod",D[28]="GPSAreaInformation",D[29]="GPSDateStamp",D[30]="GPSDifferential",D);function F(c){var b=k(c.split(/\D/));c=b.next().value;var d=b.next().value,g=b.next().value,a=b.next().value,e=b.next().value;b=b.next().value;return new Date(c,d-1,g,a,e,b)};function G(c,b,d){d=void 0===d?{}:d;var g=void 0===d.c?"dms":d.c,a=void 0===d.h?!1:d.h;if("Exif"!=l(c,b,4))return!1;d=b+6;if(18761==c.getUint16(d))var e=!1;else if(19789==c.getUint16(d))e=!0;else return!1;if(42!=c.getUint16(d+2,!e))return!1;var h=c.getUint32(d+4,!e);if(8>h)return!1;b=n(c,d,d+h,z,e);a&&b.DateTime&&(b.DateTime=F(b.DateTime));var m=b.ExifIFDPointer,t=b.GPSInfoIFDPointer;if(m)for(u in m=n(c,d,d+m,C,e),m){var r=m[u];switch(u){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":r=
H[u][r];break;case "DateTimeOriginal":case "DateTimeDigitized":a&&(r=F(r));break;case "ExifVersion":case "FlashpixVersion":r=String.fromCharCode(r[0],r[1],r[2],r[3]);break;case "ComponentsConfiguration":r=H.Components[r[0]]+H.Components[r[1]]+H.Components[r[2]]+H.Components[r[3]]}b[u]=r}if(t){a=n(c,d,d+t,E,e);for(u in a){t=a[u];switch(u){case "GPSVersionID":var A=k(t);t=A.next().value;m=A.next().value;r=A.next().value;A=A.next().value;t=[t,m,r,A].join(".")}b[u]=t}if("dd"==g){if(b.GPSLongitude){a=
k(b.GPSLongitude);var u=a.next().value;g=a.next().value;a=a.next().value;t=b.GPSLongitudeRef;b.GPSLongitude=(u+g/60+a/3600)*("S"==t||"W"==t?-1:1)}b.GPSLatitude&&(a=k(b.GPSLatitude),u=a.next().value,g=a.next().value,a=a.next().value,t=b.GPSLatitudeRef,b.GPSLatitude=(u+g/60+a/3600)*("S"==t||"W"==t?-1:1))}}h=d+h;u=c.getUint16(h,!e);if(h=c.getUint32(h+2+12*u,!e))if(h>c.byteLength)c={};else{h=n(c,d,d+h,x,e);if(h.Compression)switch(h.Compression){case 6:h.b&&h.a&&(h.blob=new Blob([new Uint8Array(c.buffer,
d+h.b,h.a)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",h.Compression)}else 2==h.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");c=h}else c={};b.thumbnail=c;return b}
var I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},H={ExposureProgram:(I[0]="Not defined",I[1]="Manual",I[2]="Normal program",I[3]="Aperture priority",I[4]="Shutter priority",I[5]="Creative program",I[6]="Action program",I[7]="Portrait mode",I[8]="Landscape mode",I),MeteringMode:(J[0]="Unknown",J[1]="Average",J[2]="CenterWeightedAverage",J[3]="Spot",J[4]="MultiSpot",J[5]="Pattern",J[6]="Partial",J[255]="Other",J),LightSource:(K[0]="Unknown",K[1]="Daylight",K[2]="Fluorescent",
K[3]="Tungsten (incandescent light)",K[4]="Flash",K[9]="Fine weather",K[10]="Cloudy weather",K[11]="Shade",K[12]="Daylight fluorescent (D 5700 - 7100K)",K[13]="Day white fluorescent (N 4600 - 5400K)",K[14]="Cool white fluorescent (W 3900 - 4500K)",K[15]="White fluorescent (WW 3200 - 3700K)",K[17]="Standard light A",K[18]="Standard light B",K[19]="Standard light C",K[20]="D55",K[21]="D65",K[22]="D75",K[23]="D50",K[24]="ISO studio tungsten",K[255]="Other",K),Flash:(L[0]="Flash did not fire",L[1]="Flash fired",
L[5]="Strobe return light not detected",L[7]="Strobe return light detected",L[9]="Flash fired, compulsory flash mode",L[13]="Flash fired, compulsory flash mode, return light not detected",L[15]="Flash fired, compulsory flash mode, return light detected",L[16]="Flash did not fire, compulsory flash mode",L[24]="Flash did not fire, auto mode",L[25]="Flash fired, auto mode",L[29]="Flash fired, auto mode, return light not detected",L[31]="Flash fired, auto mode, return light detected",L[32]="No flash function",
L[65]="Flash fired, red-eye reduction mode",L[69]="Flash fired, red-eye reduction mode, return light not detected",L[71]="Flash fired, red-eye reduction mode, return light detected",L[73]="Flash fired, compulsory flash mode, red-eye reduction mode",L[77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",L[79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",L[89]="Flash fired, auto mode, red-eye reduction mode",L[93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",
L[95]="Flash fired, auto mode, return light detected, red-eye reduction mode",L),SensingMethod:(M[1]="Not defined",M[2]="One-chip color area sensor",M[3]="Two-chip color area sensor",M[4]="Three-chip color area sensor",M[5]="Color sequential area sensor",M[7]="Trilinear sensor",M[8]="Color sequential linear sensor",M),SceneCaptureType:(N[0]="Standard",N[1]="Landscape",N[2]="Portrait",N[3]="Night scene",N),SceneType:(O[1]="Directly photographed",O),CustomRendered:(P[0]="Normal process",P[1]="Custom process",
P),WhiteBalance:(Q[0]="Auto white balance",Q[1]="Manual white balance",Q),GainControl:(R[0]="None",R[1]="Low gain up",R[2]="High gain up",R[3]="Low gain down",R[4]="High gain down",R),Contrast:(S[0]="Normal",S[1]="Soft",S[2]="Hard",S),Saturation:(T[0]="Normal",T[1]="Low saturation",T[2]="High saturation",T),Sharpness:(U[0]="Normal",U[1]="Soft",U[2]="Hard",U),SubjectDistanceRange:(V[0]="Unknown",V[1]="Macro",V[2]="Close view",V[3]="Distant view",V),FileSource:(W[3]="DSC",W),Components:(X[0]="",X[1]=
"Y",X[2]="Cb",X[3]="Cr",X[4]="R",X[5]="G",X[6]="B",X)};window.EXIF={handleBinaryFile:function(c,b){a:{var d=new DataView(c);if(255!=d.getUint8(0)||216!=d.getUint8(1))b=!1;else{for(var g=c.byteLength,a=2,e;a<g;){if(255!=d.getUint8(a)){b=!1;break a}e=d.getUint8(a+1);if(225==e){b=G(d,a+4,b);break a}a+=2+d.getUint16(a+2)}b=void 0}}a:if(d=new DataView(c),255!=d.getUint8(0)||216!=d.getUint8(1))c=!1;else{g=2;for(a=c.byteLength;g<a;){e=g;if(56===d.getUint8(e)&&66===d.getUint8(e+1)&&73===d.getUint8(e+2)&&77===d.getUint8(e+3)&&4===d.getUint8(e+4)&&4===d.getUint8(e+
5)){e=d.getUint8(g+7);0!==e%2&&(e+=1);0===e&&(e=4);a=g+8+e;g=d.getUint16(g+6+e);d=a;c=new DataView(c);a={};for(e=d;e<d+g;){if(28===c.getUint8(e)&&2===c.getUint8(e+1)){var h=c.getUint8(e+2);if(h in v){var m=c.getInt16(e+3);h=v[h];m=l(c,e+5,m);a.hasOwnProperty(h)?a[h]instanceof Array?a[h].push(m):a[h]=[a[h],m]:a[h]=m}}e++}c=a;break a}g++}c=void 0}return{data:b,iptcdata:c}}};}).call(this);

//# sourceMappingURL=exif.js.map