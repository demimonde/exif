(function(){function f(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}}function k(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):{next:f(c)}}
function l(c,b,d){for(var g=[],a=0,e=b;e<b+d;e++)g[a]="0x"+c.getUint8(e).toString(16),a++;c="";var h=g.length;for(b=0;b<h;)switch(d=g[b++],d>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(d);break;case 12:case 13:a=g[b++];c+=String.fromCharCode((d&31)<<6|a&63);break;case 14:a=g[b++],e=g[b++],c+=String.fromCharCode((d&15)<<12|(a&63)<<6|(e&63)<<0)}return c}
function n(c,b,d,g,a){var e=c.getUint16(d,!a),h={},m;for(m=0;m<e;m++){var t=d+12*m+2;var r=g[c.getUint16(t,!a)];h[r]=p(c,t,b,a)}return h}
function p(c,b,d,g){var a=c.getUint16(b+2,!g),e=c.getUint32(b+4,!g);d=c.getUint32(b+8,!g)+d;switch(a){case 1:case 7:if(1==e)return c.getUint8(b+8);d=4<e?d:b+8;b=[];for(a=0;a<e;a++)b[a]=c.getUint8(d+a);return b;case 2:return l(c,4<e?d:b+8,e-1);case 3:if(1==e)return c.getUint16(b+8,!g);d=2<e?d:b+8;b=[];for(a=0;a<e;a++)b[a]=c.getUint16(d+2*a,!g);return b;case 4:if(1==e)return c.getUint32(b+8,!g);b=[];for(a=0;a<e;a++)b[a]=c.getUint32(d+4*a,!g);return b;case 5:if(1==e){var h=c.getUint32(d,!g);var m=c.getUint32(d+
4,!g);c=new Number(h/m);c.g=h;c.f=m;return c}b=[];for(a=0;a<e;a++)h=c.getUint32(d+8*a,!g),m=c.getUint32(d+4+8*a,!g),b[a]=new Number(h/m),b[a].g=h,b[a].f=m;return b;case 9:if(1==e)return c.getInt32(b+8,!g);b=[];for(a=0;a<e;a++)b[a]=c.getInt32(d+4*a,!g);return b;case 10:if(1==e)return c.getInt32(d,!g)/c.getInt32(d+4,!g);b=[];for(a=0;a<e;a++)b[a]=c.getInt32(d+8*a,!g)/c.getInt32(d+4+8*a,!g);return b}};var q={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};var v={},w=(v[256]="ImageWidth",v[257]="ImageHeight",v[258]="BitsPerSample",v[259]="Compression",v[262]="PhotometricInterpretation",v[273]="StripOffsets",v[274]="Orientation",v[277]="SamplesPerPixel",v[278]="RowsPerStrip",v[279]="StripByteCounts",v[282]="XResolution",v[283]="YResolution",v[284]="PlanarConfiguration",v[296]="ResolutionUnit",v[513]="JpegIFOffset",v[514]="JpegIFByteCount",v[529]="YCbCrCoefficients",v[530]="YCbCrSubSampling",v[531]="YCbCrPositioning",v[532]="ReferenceBlackWhite",v);var x={},y=(x[256]="ImageWidth",x[257]="ImageHeight",x[34665]="ExifIFDPointer",x[34853]="GPSInfoIFDPointer",x[40965]="InteroperabilityIFDPointer",x[258]="BitsPerSample",x[259]="Compression",x[262]="PhotometricInterpretation",x[274]="Orientation",x[277]="SamplesPerPixel",x[284]="PlanarConfiguration",x[530]="YCbCrSubSampling",x[531]="YCbCrPositioning",x[282]="XResolution",x[283]="YResolution",x[296]="ResolutionUnit",x[273]="StripOffsets",x[278]="RowsPerStrip",x[279]="StripByteCounts",x[513]="JPEGInterchangeFormat",
x[514]="JPEGInterchangeFormatLength",x[301]="TransferFunction",x[318]="WhitePoint",x[319]="PrimaryChromaticities",x[529]="YCbCrCoefficients",x[532]="ReferenceBlackWhite",x[306]="DateTime",x[270]="ImageDescription",x[271]="Make",x[272]="Model",x[305]="Software",x[315]="Artist",x[33432]="Copyright",x);var A={},B=(A[36864]="ExifVersion",A[40960]="FlashpixVersion",A[40961]="ColorSpace",A[40962]="PixelXDimension",A[40963]="PixelYDimension",A[37121]="ComponentsConfiguration",A[37122]="CompressedBitsPerPixel",A[37500]="MakerNote",A[37510]="UserComment",A[40964]="RelatedSoundFile",A[36867]="DateTimeOriginal",A[36868]="DateTimeDigitized",A[37520]="SubsecTime",A[37521]="SubsecTimeOriginal",A[37522]="SubsecTimeDigitized",A[33434]="ExposureTime",A[33437]="FNumber",A[34850]="ExposureProgram",A[34852]="SpectralSensitivity",
A[34855]="ISOSpeedRatings",A[34856]="OECF",A[37377]="ShutterSpeedValue",A[37378]="ApertureValue",A[37379]="BrightnessValue",A[37380]="ExposureBias",A[37381]="MaxApertureValue",A[37382]="SubjectDistance",A[37383]="MeteringMode",A[37384]="LightSource",A[37385]="Flash",A[37396]="SubjectArea",A[37386]="FocalLength",A[41483]="FlashEnergy",A[41484]="SpatialFrequencyResponse",A[41486]="FocalPlaneXResolution",A[41487]="FocalPlaneYResolution",A[41488]="FocalPlaneResolutionUnit",A[41492]="SubjectLocation",
A[41493]="ExposureIndex",A[41495]="SensingMethod",A[41728]="FileSource",A[41729]="SceneType",A[41730]="CFAPattern",A[41985]="CustomRendered",A[41986]="ExposureMode",A[41987]="WhiteBalance",A[41988]="DigitalZoomRation",A[41989]="FocalLengthIn35mmFilm",A[41990]="SceneCaptureType",A[41991]="GainControl",A[41992]="Contrast",A[41993]="Saturation",A[41994]="Sharpness",A[41995]="DeviceSettingDescription",A[41996]="SubjectDistanceRange",A[40965]="InteroperabilityIFDPointer",A[42016]="ImageUniqueID",A);var C={},D=(C[0]="GPSVersionID",C[1]="GPSLatitudeRef",C[2]="GPSLatitude",C[3]="GPSLongitudeRef",C[4]="GPSLongitude",C[5]="GPSAltitudeRef",C[6]="GPSAltitude",C[7]="GPSTimeStamp",C[8]="GPSSatellites",C[9]="GPSStatus",C[10]="GPSMeasureMode",C[11]="GPSDOP",C[12]="GPSSpeedRef",C[13]="GPSSpeed",C[14]="GPSTrackRef",C[15]="GPSTrack",C[16]="GPSImgDirectionRef",C[17]="GPSImgDirection",C[18]="GPSMapDatum",C[19]="GPSDestLatitudeRef",C[20]="GPSDestLatitude",C[21]="GPSDestLongitudeRef",C[22]="GPSDestLongitude",
C[23]="GPSDestBearingRef",C[24]="GPSDestBearing",C[25]="GPSDestDistanceRef",C[26]="GPSDestDistance",C[27]="GPSProcessingMethod",C[28]="GPSAreaInformation",C[29]="GPSDateStamp",C[30]="GPSDifferential",C);function E(c){var b=k(c.split(/\D/));c=b.next().value;var d=b.next().value,g=b.next().value,a=b.next().value,e=b.next().value;b=b.next().value;return new Date(c,d-1,g,a,e,b)};function F(c,b,d){d=void 0===d?{}:d;var g=void 0===d.c?"dms":d.c,a=void 0===d.h?!1:d.h;if("Exif"!=l(c,b,4))return!1;d=b+6;if(18761==c.getUint16(d))var e=!1;else if(19789==c.getUint16(d))e=!0;else return!1;if(42!=c.getUint16(d+2,!e))return!1;var h=c.getUint32(d+4,!e);if(8>h)return!1;b=n(c,d,d+h,y,e);a&&b.DateTime&&(b.DateTime=E(b.DateTime));var m=b.ExifIFDPointer,t=b.GPSInfoIFDPointer;if(m)for(u in m=n(c,d,d+m,B,e),m){var r=m[u];switch(u){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":r=
G[u][r];break;case "DateTimeOriginal":case "DateTimeDigitized":a&&(r=E(r));break;case "ExifVersion":case "FlashpixVersion":r=String.fromCharCode(r[0],r[1],r[2],r[3]);break;case "ComponentsConfiguration":r=G.Components[r[0]]+G.Components[r[1]]+G.Components[r[2]]+G.Components[r[3]]}b[u]=r}if(t){a=n(c,d,d+t,D,e);for(u in a){t=a[u];switch(u){case "GPSVersionID":var z=k(t);t=z.next().value;m=z.next().value;r=z.next().value;z=z.next().value;t=[t,m,r,z].join(".")}b[u]=t}if("dd"==g){if(b.GPSLongitude){a=
k(b.GPSLongitude);var u=a.next().value;g=a.next().value;a=a.next().value;t=b.GPSLongitudeRef;b.GPSLongitude=(u+g/60+a/3600)*("S"==t||"W"==t?-1:1)}b.GPSLatitude&&(a=k(b.GPSLatitude),u=a.next().value,g=a.next().value,a=a.next().value,t=b.GPSLatitudeRef,b.GPSLatitude=(u+g/60+a/3600)*("S"==t||"W"==t?-1:1))}}h=d+h;u=c.getUint16(h,!e);if(h=c.getUint32(h+2+12*u,!e))if(h>c.byteLength)c={};else{h=n(c,d,d+h,w,e);if(h.Compression)switch(h.Compression){case 6:h.b&&h.a&&(h.blob=new Blob([new Uint8Array(c.buffer,
d+h.b,h.a)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",h.Compression)}else 2==h.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");c=h}else c={};b.thumbnail=c;return b}
var H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},G={ExposureProgram:(H[0]="Not defined",H[1]="Manual",H[2]="Normal program",H[3]="Aperture priority",H[4]="Shutter priority",H[5]="Creative program",H[6]="Action program",H[7]="Portrait mode",H[8]="Landscape mode",H),MeteringMode:(I[0]="Unknown",I[1]="Average",I[2]="CenterWeightedAverage",I[3]="Spot",I[4]="MultiSpot",I[5]="Pattern",I[6]="Partial",I[255]="Other",I),LightSource:(J[0]="Unknown",J[1]="Daylight",J[2]="Fluorescent",
J[3]="Tungsten (incandescent light)",J[4]="Flash",J[9]="Fine weather",J[10]="Cloudy weather",J[11]="Shade",J[12]="Daylight fluorescent (D 5700 - 7100K)",J[13]="Day white fluorescent (N 4600 - 5400K)",J[14]="Cool white fluorescent (W 3900 - 4500K)",J[15]="White fluorescent (WW 3200 - 3700K)",J[17]="Standard light A",J[18]="Standard light B",J[19]="Standard light C",J[20]="D55",J[21]="D65",J[22]="D75",J[23]="D50",J[24]="ISO studio tungsten",J[255]="Other",J),Flash:(K[0]="Flash did not fire",K[1]="Flash fired",
K[5]="Strobe return light not detected",K[7]="Strobe return light detected",K[9]="Flash fired, compulsory flash mode",K[13]="Flash fired, compulsory flash mode, return light not detected",K[15]="Flash fired, compulsory flash mode, return light detected",K[16]="Flash did not fire, compulsory flash mode",K[24]="Flash did not fire, auto mode",K[25]="Flash fired, auto mode",K[29]="Flash fired, auto mode, return light not detected",K[31]="Flash fired, auto mode, return light detected",K[32]="No flash function",
K[65]="Flash fired, red-eye reduction mode",K[69]="Flash fired, red-eye reduction mode, return light not detected",K[71]="Flash fired, red-eye reduction mode, return light detected",K[73]="Flash fired, compulsory flash mode, red-eye reduction mode",K[77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",K[79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",K[89]="Flash fired, auto mode, red-eye reduction mode",K[93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",
K[95]="Flash fired, auto mode, return light detected, red-eye reduction mode",K),SensingMethod:(L[1]="Not defined",L[2]="One-chip color area sensor",L[3]="Two-chip color area sensor",L[4]="Three-chip color area sensor",L[5]="Color sequential area sensor",L[7]="Trilinear sensor",L[8]="Color sequential linear sensor",L),SceneCaptureType:(M[0]="Standard",M[1]="Landscape",M[2]="Portrait",M[3]="Night scene",M),SceneType:(N[1]="Directly photographed",N),CustomRendered:(O[0]="Normal process",O[1]="Custom process",
O),WhiteBalance:(P[0]="Auto white balance",P[1]="Manual white balance",P),GainControl:(Q[0]="None",Q[1]="Low gain up",Q[2]="High gain up",Q[3]="Low gain down",Q[4]="High gain down",Q),Contrast:(R[0]="Normal",R[1]="Soft",R[2]="Hard",R),Saturation:(S[0]="Normal",S[1]="Low saturation",S[2]="High saturation",S),Sharpness:(T[0]="Normal",T[1]="Soft",T[2]="Hard",T),SubjectDistanceRange:(U[0]="Unknown",U[1]="Macro",U[2]="Close view",U[3]="Distant view",U),FileSource:(V[3]="DSC",V),Components:(W[0]="",W[1]=
"Y",W[2]="Cb",W[3]="Cr",W[4]="R",W[5]="G",W[6]="B",W)};window.EXIF={handleBinaryFile:function(c,b){a:{var d=new DataView(c);if(255!=d.getUint8(0)||216!=d.getUint8(1))b=!1;else{for(var g=c.byteLength,a=2,e;a<g;){if(255!=d.getUint8(a)){b=!1;break a}e=d.getUint8(a+1);if(225==e){b=F(d,a+4,b);break a}a+=2+d.getUint16(a+2)}b=void 0}}a:if(d=new DataView(c),255!=d.getUint8(0)||216!=d.getUint8(1))c=!1;else{g=2;for(a=c.byteLength;g<a;){e=g;if(56===d.getUint8(e)&&66===d.getUint8(e+1)&&73===d.getUint8(e+2)&&77===d.getUint8(e+3)&&4===d.getUint8(e+4)&&4===d.getUint8(e+
5)){e=d.getUint8(g+7);0!==e%2&&(e+=1);0===e&&(e=4);a=g+8+e;g=d.getUint16(g+6+e);d=a;c=new DataView(c);a={};for(e=d;e<d+g;){if(28===c.getUint8(e)&&2===c.getUint8(e+1)){var h=c.getUint8(e+2);if(h in q){var m=c.getInt16(e+3);h=q[h];m=l(c,e+5,m);a.hasOwnProperty(h)?a[h]instanceof Array?a[h].push(m):a[h]=[a[h],m]:a[h]=m}}e++}c=a;break a}g++}c=void 0}return{data:b,iptcdata:c}}};}).call(this);

//# sourceMappingURL=exif.js.map