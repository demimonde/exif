(function(){function e(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}}function k(a){var d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):{next:e(a)}}function l(a,d,c){for(var h="",b=d;b<d+c;b++)h+=String.fromCharCode(a.getUint8(b));return h}function n(a,d,c,h,b){var f=a.getUint16(c,!b),g={},p;for(p=0;p<f;p++){var q=c+12*p+2;var x=h[a.getUint16(q,!b)];g[x]=r(a,q,d,b)}return g}
function r(a,d,c,h){var b=a.getUint16(d+2,!h),f=a.getUint32(d+4,!h);c=a.getUint32(d+8,!h)+c;switch(b){case 1:case 7:if(1==f)return a.getUint8(d+8);c=4<f?c:d+8;d=[];for(b=0;b<f;b++)d[b]=a.getUint8(c+b);return d;case 2:return l(a,4<f?c:d+8,f-1);case 3:if(1==f)return a.getUint16(d+8,!h);c=2<f?c:d+8;d=[];for(b=0;b<f;b++)d[b]=a.getUint16(c+2*b,!h);return d;case 4:if(1==f)return a.getUint32(d+8,!h);d=[];for(b=0;b<f;b++)d[b]=a.getUint32(c+4*b,!h);return d;case 5:if(1==f){var g=a.getUint32(c,!h);var p=a.getUint32(c+
4,!h);a=new Number(g/p);a.g=g;a.f=p;return a}d=[];for(b=0;b<f;b++)g=a.getUint32(c+8*b,!h),p=a.getUint32(c+4+8*b,!h),d[b]=new Number(g/p),d[b].g=g,d[b].f=p;return d;case 9:if(1==f)return a.getInt32(d+8,!h);d=[];for(b=0;b<f;b++)d[b]=a.getInt32(c+4*b,!h);return d;case 10:if(1==f)return a.getInt32(c,!h)/a.getInt32(c+4,!h);d=[];for(b=0;b<f;b++)d[b]=a.getInt32(c+8*b,!h)/a.getInt32(c+4+8*b,!h);return d}};var t={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};var v={},w=(v[256]="ImageWidth",v[257]="ImageHeight",v[258]="BitsPerSample",v[259]="Compression",v[262]="PhotometricInterpretation",v[273]="StripOffsets",v[274]="Orientation",v[277]="SamplesPerPixel",v[278]="RowsPerStrip",v[279]="StripByteCounts",v[282]="XResolution",v[283]="YResolution",v[284]="PlanarConfiguration",v[296]="ResolutionUnit",v[513]="JpegIFOffset",v[514]="JpegIFByteCount",v[529]="YCbCrCoefficients",v[530]="YCbCrSubSampling",v[531]="YCbCrPositioning",v[532]="ReferenceBlackWhite",v);var z={},A=(z[256]="ImageWidth",z[257]="ImageHeight",z[34665]="ExifIFDPointer",z[34853]="GPSInfoIFDPointer",z[40965]="InteroperabilityIFDPointer",z[258]="BitsPerSample",z[259]="Compression",z[262]="PhotometricInterpretation",z[274]="Orientation",z[277]="SamplesPerPixel",z[284]="PlanarConfiguration",z[530]="YCbCrSubSampling",z[531]="YCbCrPositioning",z[282]="XResolution",z[283]="YResolution",z[296]="ResolutionUnit",z[273]="StripOffsets",z[278]="RowsPerStrip",z[279]="StripByteCounts",z[513]="JPEGInterchangeFormat",
z[514]="JPEGInterchangeFormatLength",z[301]="TransferFunction",z[318]="WhitePoint",z[319]="PrimaryChromaticities",z[529]="YCbCrCoefficients",z[532]="ReferenceBlackWhite",z[306]="DateTime",z[270]="ImageDescription",z[271]="Make",z[272]="Model",z[305]="Software",z[315]="Artist",z[33432]="Copyright",z);var B={},C=(B[36864]="ExifVersion",B[40960]="FlashpixVersion",B[40961]="ColorSpace",B[40962]="PixelXDimension",B[40963]="PixelYDimension",B[37121]="ComponentsConfiguration",B[37122]="CompressedBitsPerPixel",B[37500]="MakerNote",B[37510]="UserComment",B[40964]="RelatedSoundFile",B[36867]="DateTimeOriginal",B[36868]="DateTimeDigitized",B[37520]="SubsecTime",B[37521]="SubsecTimeOriginal",B[37522]="SubsecTimeDigitized",B[33434]="ExposureTime",B[33437]="FNumber",B[34850]="ExposureProgram",B[34852]="SpectralSensitivity",
B[34855]="ISOSpeedRatings",B[34856]="OECF",B[37377]="ShutterSpeedValue",B[37378]="ApertureValue",B[37379]="BrightnessValue",B[37380]="ExposureBias",B[37381]="MaxApertureValue",B[37382]="SubjectDistance",B[37383]="MeteringMode",B[37384]="LightSource",B[37385]="Flash",B[37396]="SubjectArea",B[37386]="FocalLength",B[41483]="FlashEnergy",B[41484]="SpatialFrequencyResponse",B[41486]="FocalPlaneXResolution",B[41487]="FocalPlaneYResolution",B[41488]="FocalPlaneResolutionUnit",B[41492]="SubjectLocation",
B[41493]="ExposureIndex",B[41495]="SensingMethod",B[41728]="FileSource",B[41729]="SceneType",B[41730]="CFAPattern",B[41985]="CustomRendered",B[41986]="ExposureMode",B[41987]="WhiteBalance",B[41988]="DigitalZoomRation",B[41989]="FocalLengthIn35mmFilm",B[41990]="SceneCaptureType",B[41991]="GainControl",B[41992]="Contrast",B[41993]="Saturation",B[41994]="Sharpness",B[41995]="DeviceSettingDescription",B[41996]="SubjectDistanceRange",B[40965]="InteroperabilityIFDPointer",B[42016]="ImageUniqueID",B);var D={},E=(D[0]="GPSVersionID",D[1]="GPSLatitudeRef",D[2]="GPSLatitude",D[3]="GPSLongitudeRef",D[4]="GPSLongitude",D[5]="GPSAltitudeRef",D[6]="GPSAltitude",D[7]="GPSTimeStamp",D[8]="GPSSatellites",D[9]="GPSStatus",D[10]="GPSMeasureMode",D[11]="GPSDOP",D[12]="GPSSpeedRef",D[13]="GPSSpeed",D[14]="GPSTrackRef",D[15]="GPSTrack",D[16]="GPSImgDirectionRef",D[17]="GPSImgDirection",D[18]="GPSMapDatum",D[19]="GPSDestLatitudeRef",D[20]="GPSDestLatitude",D[21]="GPSDestLongitudeRef",D[22]="GPSDestLongitude",
D[23]="GPSDestBearingRef",D[24]="GPSDestBearing",D[25]="GPSDestDistanceRef",D[26]="GPSDestDistance",D[27]="GPSProcessingMethod",D[28]="GPSAreaInformation",D[29]="GPSDateStamp",D[30]="GPSDifferential",D);function F(a,d,c){c=void 0===c?{}:c;var h=void 0===c.c?"dms":c.c;if("Exif"!=l(a,d,4))return!1;c=d+6;if(18761==a.getUint16(c))var b=!1;else if(19789==a.getUint16(c))b=!0;else return!1;if(42!=a.getUint16(c+2,!b))return!1;var f=a.getUint32(c+4,!b);if(8>f)return!1;d=n(a,c,c+f,A,b);var g=d.ExifIFDPointer,p=d.GPSInfoIFDPointer;if(g)for(m in g=n(a,c,c+g,C,b),g){var q=g[m];switch(m){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":q=
H[m][q];break;case "ExifVersion":case "FlashpixVersion":q=String.fromCharCode(q[0],q[1],q[2],q[3]);break;case "ComponentsConfiguration":q=H.Components[q[0]]+H.Components[q[1]]+H.Components[q[2]]+H.Components[q[3]]}d[m]=q}if(p)for(m in h="dd"==h,p=n(a,c,c+p,E,b),p){g=p[m];switch(m){case "GPSVersionID":var x=k(g);g=x.next().value;q=x.next().value;var u=x.next().value;x=x.next().value;g=[g,q,u,x].join(".");break;case "GPSLatitudeRef":var y=g;d.GPSLatitude&&"S"==g&&h&&(d.GPSLatitude*=-1);break;case "GPSLongitudeRef":var G=
g;d.GPSLongitude&&"W"==g&&h&&(d.GPSLongitude*=-1);break;case "GPSLatitude":h&&(u=k(g),g=u.next().value,q=u.next().value,u=u.next().value,g=(g+q/60+u/3600)*("S"==y||"W"==y?-1:1));break;case "GPSLongitude":h&&(u=k(g),g=u.next().value,q=u.next().value,u=u.next().value,g=(g+q/60+u/3600)*("S"==G||"W"==G?-1:1))}d[m]=g}var m=b;y=c+f;G=a.getUint16(y,!m);if(y=a.getUint32(y+2+12*G,!m))if(y>a.byteLength)a={};else{m=n(a,c,c+y,w,m);if(m.Compression)switch(m.Compression){case 6:m.b&&m.a&&(m.blob=new Blob([new Uint8Array(a.buffer,
c+m.b,m.a)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",m.Compression)}else 2==m.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");a=m}else a={};d.thumbnail=a;return d}
var I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},H={ExposureProgram:(I[0]="Not defined",I[1]="Manual",I[2]="Normal program",I[3]="Aperture priority",I[4]="Shutter priority",I[5]="Creative program",I[6]="Action program",I[7]="Portrait mode",I[8]="Landscape mode",I),MeteringMode:(J[0]="Unknown",J[1]="Average",J[2]="CenterWeightedAverage",J[3]="Spot",J[4]="MultiSpot",J[5]="Pattern",J[6]="Partial",J[255]="Other",J),LightSource:(K[0]="Unknown",K[1]="Daylight",K[2]="Fluorescent",
K[3]="Tungsten (incandescent light)",K[4]="Flash",K[9]="Fine weather",K[10]="Cloudy weather",K[11]="Shade",K[12]="Daylight fluorescent (D 5700 - 7100K)",K[13]="Day white fluorescent (N 4600 - 5400K)",K[14]="Cool white fluorescent (W 3900 - 4500K)",K[15]="White fluorescent (WW 3200 - 3700K)",K[17]="Standard light A",K[18]="Standard light B",K[19]="Standard light C",K[20]="D55",K[21]="D65",K[22]="D75",K[23]="D50",K[24]="ISO studio tungsten",K[255]="Other",K),Flash:(L[0]="Flash did not fire",L[1]="Flash fired",
L[5]="Strobe return light not detected",L[7]="Strobe return light detected",L[9]="Flash fired, compulsory flash mode",L[13]="Flash fired, compulsory flash mode, return light not detected",L[15]="Flash fired, compulsory flash mode, return light detected",L[16]="Flash did not fire, compulsory flash mode",L[24]="Flash did not fire, auto mode",L[25]="Flash fired, auto mode",L[29]="Flash fired, auto mode, return light not detected",L[31]="Flash fired, auto mode, return light detected",L[32]="No flash function",
L[65]="Flash fired, red-eye reduction mode",L[69]="Flash fired, red-eye reduction mode, return light not detected",L[71]="Flash fired, red-eye reduction mode, return light detected",L[73]="Flash fired, compulsory flash mode, red-eye reduction mode",L[77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",L[79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",L[89]="Flash fired, auto mode, red-eye reduction mode",L[93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",
L[95]="Flash fired, auto mode, return light detected, red-eye reduction mode",L),SensingMethod:(M[1]="Not defined",M[2]="One-chip color area sensor",M[3]="Two-chip color area sensor",M[4]="Three-chip color area sensor",M[5]="Color sequential area sensor",M[7]="Trilinear sensor",M[8]="Color sequential linear sensor",M),SceneCaptureType:(N[0]="Standard",N[1]="Landscape",N[2]="Portrait",N[3]="Night scene",N),SceneType:(O[1]="Directly photographed",O),CustomRendered:(P[0]="Normal process",P[1]="Custom process",
P),WhiteBalance:(Q[0]="Auto white balance",Q[1]="Manual white balance",Q),GainControl:(R[0]="None",R[1]="Low gain up",R[2]="High gain up",R[3]="Low gain down",R[4]="High gain down",R),Contrast:(S[0]="Normal",S[1]="Soft",S[2]="Hard",S),Saturation:(T[0]="Normal",T[1]="Low saturation",T[2]="High saturation",T),Sharpness:(U[0]="Normal",U[1]="Soft",U[2]="Hard",U),SubjectDistanceRange:(V[0]="Unknown",V[1]="Macro",V[2]="Close view",V[3]="Distant view",V),FileSource:(W[3]="DSC",W),Components:(X[0]="",X[1]=
"Y",X[2]="Cb",X[3]="Cr",X[4]="R",X[5]="G",X[6]="B",X)};window.EXIF={handleBinaryFile:function(a,d){a:{var c=new DataView(a);if(255!=c.getUint8(0)||216!=c.getUint8(1))d=!1;else{for(var h=a.byteLength,b=2,f;b<h;){if(255!=c.getUint8(b)){d=!1;break a}f=c.getUint8(b+1);if(225==f){d=F(c,b+4,d);break a}b+=2+c.getUint16(b+2)}d=void 0}}a:if(c=new DataView(a),255!=c.getUint8(0)||216!=c.getUint8(1))a=!1;else{h=2;for(b=a.byteLength;h<b;){f=h;if(56===c.getUint8(f)&&66===c.getUint8(f+1)&&73===c.getUint8(f+2)&&77===c.getUint8(f+3)&&4===c.getUint8(f+4)&&4===c.getUint8(f+
5)){f=c.getUint8(h+7);0!==f%2&&(f+=1);0===f&&(f=4);b=h+8+f;h=c.getUint16(h+6+f);c=b;a=new DataView(a);b={};for(f=c;f<c+h;){if(28===a.getUint8(f)&&2===a.getUint8(f+1)){var g=a.getUint8(f+2);if(g in t){var p=a.getInt16(f+3);g=t[g];p=l(a,f+5,p);b.hasOwnProperty(g)?b[g]instanceof Array?b[g].push(p):b[g]=[b[g],p]:b[g]=p}}f++}a=b;break a}h++}a=void 0}return{data:d,iptcdata:a}}};}).call(this);

//# sourceMappingURL=exif.js.map