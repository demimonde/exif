(function(){function f(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function k(b,c,d){for(var g="",a=c;a<c+d;a++)g+=String.fromCharCode(b.getUint8(a));return g}function l(b,c,d,g,a){var e=b.getUint16(d,!a),m={},h;for(h=0;h<e;h++){var H=d+12*h+2;var M=g[b.getUint16(H,!a)];m[M]=n(b,H,c,a)}return m}
function n(b,c,d,g){var a=b.getUint16(c+2,!g),e=b.getUint32(c+4,!g);d=b.getUint32(c+8,!g)+d;switch(a){case 1:case 7:if(1==e)return b.getUint8(c+8);d=4<e?d:c+8;c=[];for(a=0;a<e;a++)c[a]=b.getUint8(d+a);return c;case 2:return k(b,4<e?d:c+8,e-1);case 3:if(1==e)return b.getUint16(c+8,!g);d=2<e?d:c+8;c=[];for(a=0;a<e;a++)c[a]=b.getUint16(d+2*a,!g);return c;case 4:if(1==e)return b.getUint32(c+8,!g);c=[];for(a=0;a<e;a++)c[a]=b.getUint32(d+4*a,!g);return c;case 5:if(1==e){var m=b.getUint32(d,!g);var h=b.getUint32(d+
4,!g);b=new Number(m/h);b.f=m;b.c=h;return b}c=[];for(a=0;a<e;a++)m=b.getUint32(d+8*a,!g),h=b.getUint32(d+4+8*a,!g),c[a]=new Number(m/h),c[a].f=m,c[a].c=h;return c;case 9:if(1==e)return b.getInt32(c+8,!g);c=[];for(a=0;a<e;a++)c[a]=b.getInt32(d+4*a,!g);return c;case 10:if(1==e)return b.getInt32(d,!g)/b.getInt32(d+4,!g);c=[];for(a=0;a<e;a++)c[a]=b.getInt32(d+8*a,!g)/b.getInt32(d+4+8*a,!g);return c}};var p={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};var q={},r=(q[256]="ImageWidth",q[257]="ImageHeight",q[258]="BitsPerSample",q[259]="Compression",q[262]="PhotometricInterpretation",q[273]="StripOffsets",q[274]="Orientation",q[277]="SamplesPerPixel",q[278]="RowsPerStrip",q[279]="StripByteCounts",q[282]="XResolution",q[283]="YResolution",q[284]="PlanarConfiguration",q[296]="ResolutionUnit",q[513]="JpegIFOffset",q[514]="JpegIFByteCount",q[529]="YCbCrCoefficients",q[530]="YCbCrSubSampling",q[531]="YCbCrPositioning",q[532]="ReferenceBlackWhite",q);var t={},u=(t[256]="ImageWidth",t[257]="ImageHeight",t[34665]="ExifIFDPointer",t[34853]="GPSInfoIFDPointer",t[40965]="InteroperabilityIFDPointer",t[258]="BitsPerSample",t[259]="Compression",t[262]="PhotometricInterpretation",t[274]="Orientation",t[277]="SamplesPerPixel",t[284]="PlanarConfiguration",t[530]="YCbCrSubSampling",t[531]="YCbCrPositioning",t[282]="XResolution",t[283]="YResolution",t[296]="ResolutionUnit",t[273]="StripOffsets",t[278]="RowsPerStrip",t[279]="StripByteCounts",t[513]="JPEGInterchangeFormat",
t[514]="JPEGInterchangeFormatLength",t[301]="TransferFunction",t[318]="WhitePoint",t[319]="PrimaryChromaticities",t[529]="YCbCrCoefficients",t[532]="ReferenceBlackWhite",t[306]="DateTime",t[270]="ImageDescription",t[271]="Make",t[272]="Model",t[305]="Software",t[315]="Artist",t[33432]="Copyright",t);var v={},w=(v[36864]="ExifVersion",v[40960]="FlashpixVersion",v[40961]="ColorSpace",v[40962]="PixelXDimension",v[40963]="PixelYDimension",v[37121]="ComponentsConfiguration",v[37122]="CompressedBitsPerPixel",v[37500]="MakerNote",v[37510]="UserComment",v[40964]="RelatedSoundFile",v[36867]="DateTimeOriginal",v[36868]="DateTimeDigitized",v[37520]="SubsecTime",v[37521]="SubsecTimeOriginal",v[37522]="SubsecTimeDigitized",v[33434]="ExposureTime",v[33437]="FNumber",v[34850]="ExposureProgram",v[34852]="SpectralSensitivity",
v[34855]="ISOSpeedRatings",v[34856]="OECF",v[37377]="ShutterSpeedValue",v[37378]="ApertureValue",v[37379]="BrightnessValue",v[37380]="ExposureBias",v[37381]="MaxApertureValue",v[37382]="SubjectDistance",v[37383]="MeteringMode",v[37384]="LightSource",v[37385]="Flash",v[37396]="SubjectArea",v[37386]="FocalLength",v[41483]="FlashEnergy",v[41484]="SpatialFrequencyResponse",v[41486]="FocalPlaneXResolution",v[41487]="FocalPlaneYResolution",v[41488]="FocalPlaneResolutionUnit",v[41492]="SubjectLocation",
v[41493]="ExposureIndex",v[41495]="SensingMethod",v[41728]="FileSource",v[41729]="SceneType",v[41730]="CFAPattern",v[41985]="CustomRendered",v[41986]="ExposureMode",v[41987]="WhiteBalance",v[41988]="DigitalZoomRation",v[41989]="FocalLengthIn35mmFilm",v[41990]="SceneCaptureType",v[41991]="GainControl",v[41992]="Contrast",v[41993]="Saturation",v[41994]="Sharpness",v[41995]="DeviceSettingDescription",v[41996]="SubjectDistanceRange",v[40965]="InteroperabilityIFDPointer",v[42016]="ImageUniqueID",v);var x={},y=(x[0]="GPSVersionID",x[1]="GPSLatitudeRef",x[2]="GPSLatitude",x[3]="GPSLongitudeRef",x[4]="GPSLongitude",x[5]="GPSAltitudeRef",x[6]="GPSAltitude",x[7]="GPSTimeStamp",x[8]="GPSSatellites",x[9]="GPSStatus",x[10]="GPSMeasureMode",x[11]="GPSDOP",x[12]="GPSSpeedRef",x[13]="GPSSpeed",x[14]="GPSTrackRef",x[15]="GPSTrack",x[16]="GPSImgDirectionRef",x[17]="GPSImgDirection",x[18]="GPSMapDatum",x[19]="GPSDestLatitudeRef",x[20]="GPSDestLatitude",x[21]="GPSDestLongitudeRef",x[22]="GPSDestLongitude",
x[23]="GPSDestBearingRef",x[24]="GPSDestBearing",x[25]="GPSDestDistanceRef",x[26]="GPSDestDistance",x[27]="GPSProcessingMethod",x[28]="GPSAreaInformation",x[29]="GPSDateStamp",x[30]="GPSDifferential",x);function z(b,c){if("Exif"!=k(b,c,4))return!1;var d=c+6;if(18761==b.getUint16(d))var g=!1;else if(19789==b.getUint16(d))g=!0;else return!1;if(42!=b.getUint16(d+2,!g))return!1;var a=b.getUint32(d+4,!g);if(8>a)return!1;c=l(b,d,d+a,u,g);var e=c.ExifIFDPointer,m=c.GPSInfoIFDPointer;if(e)for(h in e=l(b,d,d+e,w,g),e){switch(h){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":e[h]=
A[h][e[h]];break;case "ExifVersion":case "FlashpixVersion":e[h]=String.fromCharCode(e[h][0],e[h][1],e[h][2],e[h][3]);break;case "ComponentsConfiguration":e[h]=A.Components[e[h][0]]+A.Components[e[h][1]]+A.Components[e[h][2]]+A.Components[e[h][3]]}c[h]=e[h]}if(m)for(h in m=l(b,d,d+m,y,g),m){switch(h){case "GPSVersionID":m[h]=m[h][0]+"."+m[h][1]+"."+m[h][2]+"."+m[h][3]}c[h]=m[h]}var h=g;a=d+a;g=b.getUint16(a,!h);if(a=b.getUint32(a+2+12*g,!h))if(a>b.byteLength)b={};else{a=l(b,d,d+a,r,h);if(a.Compression)switch(a.Compression){case 6:a.b&&
a.a&&(a.blob=new Blob([new Uint8Array(b.buffer,d+a.b,a.a)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",a.Compression)}else 2==a.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");b=a}else b={};c.thumbnail=b;return c}
var B={},C={},D={},E={},F={},G={},I={},J={},K={},L={},N={},O={},P={},Q={},R={},S={},A={ExposureProgram:(B[0]="Not defined",B[1]="Manual",B[2]="Normal program",B[3]="Aperture priority",B[4]="Shutter priority",B[5]="Creative program",B[6]="Action program",B[7]="Portrait mode",B[8]="Landscape mode",B),MeteringMode:(C[0]="Unknown",C[1]="Average",C[2]="CenterWeightedAverage",C[3]="Spot",C[4]="MultiSpot",C[5]="Pattern",C[6]="Partial",C[255]="Other",C),LightSource:(D[0]="Unknown",D[1]="Daylight",D[2]="Fluorescent",
D[3]="Tungsten (incandescent light)",D[4]="Flash",D[9]="Fine weather",D[10]="Cloudy weather",D[11]="Shade",D[12]="Daylight fluorescent (D 5700 - 7100K)",D[13]="Day white fluorescent (N 4600 - 5400K)",D[14]="Cool white fluorescent (W 3900 - 4500K)",D[15]="White fluorescent (WW 3200 - 3700K)",D[17]="Standard light A",D[18]="Standard light B",D[19]="Standard light C",D[20]="D55",D[21]="D65",D[22]="D75",D[23]="D50",D[24]="ISO studio tungsten",D[255]="Other",D),Flash:(E[0]="Flash did not fire",E[1]="Flash fired",
E[5]="Strobe return light not detected",E[7]="Strobe return light detected",E[9]="Flash fired, compulsory flash mode",E[13]="Flash fired, compulsory flash mode, return light not detected",E[15]="Flash fired, compulsory flash mode, return light detected",E[16]="Flash did not fire, compulsory flash mode",E[24]="Flash did not fire, auto mode",E[25]="Flash fired, auto mode",E[29]="Flash fired, auto mode, return light not detected",E[31]="Flash fired, auto mode, return light detected",E[32]="No flash function",
E[65]="Flash fired, red-eye reduction mode",E[69]="Flash fired, red-eye reduction mode, return light not detected",E[71]="Flash fired, red-eye reduction mode, return light detected",E[73]="Flash fired, compulsory flash mode, red-eye reduction mode",E[77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",E[79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",E[89]="Flash fired, auto mode, red-eye reduction mode",E[93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",
E[95]="Flash fired, auto mode, return light detected, red-eye reduction mode",E),SensingMethod:(F[1]="Not defined",F[2]="One-chip color area sensor",F[3]="Two-chip color area sensor",F[4]="Three-chip color area sensor",F[5]="Color sequential area sensor",F[7]="Trilinear sensor",F[8]="Color sequential linear sensor",F),SceneCaptureType:(G[0]="Standard",G[1]="Landscape",G[2]="Portrait",G[3]="Night scene",G),SceneType:(I[1]="Directly photographed",I),CustomRendered:(J[0]="Normal process",J[1]="Custom process",
J),WhiteBalance:(K[0]="Auto white balance",K[1]="Manual white balance",K),GainControl:(L[0]="None",L[1]="Low gain up",L[2]="High gain up",L[3]="Low gain down",L[4]="High gain down",L),Contrast:(N[0]="Normal",N[1]="Soft",N[2]="Hard",N),Saturation:(O[0]="Normal",O[1]="Low saturation",O[2]="High saturation",O),Sharpness:(P[0]="Normal",P[1]="Soft",P[2]="Hard",P),SubjectDistanceRange:(Q[0]="Unknown",Q[1]="Macro",Q[2]="Close view",Q[3]="Distant view",Q),FileSource:(R[3]="DSC",R),Components:(S[0]="",S[1]=
"Y",S[2]="Cb",S[3]="Cr",S[4]="R",S[5]="G",S[6]="B",S)};window.EXIF={handleBinaryFile:function(b){a:{var c=new DataView(b);if(255!=c.getUint8(0)||216!=c.getUint8(1))c=!1;else{for(var d=b.byteLength,g=2,a;g<d;){if(255!=c.getUint8(g)){c=!1;break a}a=c.getUint8(g+1);if(225==a){c=z(c,g+4);break a}g+=2+c.getUint16(g+2)}c=void 0}}a:if(d=new DataView(b),255!=d.getUint8(0)||216!=d.getUint8(1))b=!1;else{g=2;for(a=b.byteLength;g<a;){var e=g;if(56===d.getUint8(e)&&66===d.getUint8(e+1)&&73===d.getUint8(e+2)&&77===d.getUint8(e+3)&&4===d.getUint8(e+4)&&4===d.getUint8(e+
5)){e=d.getUint8(g+7);0!==e%2&&(e+=1);0===e&&(e=4);a=g+8+e;g=d.getUint16(g+6+e);d=a;b=new DataView(b);a={};for(e=d;e<d+g;){if(28===b.getUint8(e)&&2===b.getUint8(e+1)){var m=b.getUint8(e+2);if(m in p){var h=b.getInt16(e+3);m=p[m];h=k(b,e+5,h);a.hasOwnProperty(m)?a[m]instanceof Array?a[m].push(h):a[m]=[a[m],h]:a[m]=h}}e++}b=a;break a}g++}b=void 0}return{data:c,iptcdata:b}},getDate:function(b){b=b.split(/\D/);var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];var d=c?c.call(b):{next:f(b)};
b=d.next().value;c=d.next().value;var g=d.next().value,a=d.next().value,e=d.next().value;d=d.next().value;return new Date(b,c-1,g,a,e,d)}};}).call(this);

//# sourceMappingURL=exif.js.map